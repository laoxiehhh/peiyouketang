webpackJsonp([4],{"2zaD":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("tSVZ"),r={data:function(){return{selected:"",answer:""}},methods:{handleClick:function(){this.answer=this.selected;var t={questionId:this.question.questionId,answer:this.answer};this.$emit("handleAnswer",t)}},props:{question:{type:Object,required:!0},myAnswerKey:{type:Boolean,required:!0},correctAnswer:{type:Object,required:!0}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"question"},[s("div",{staticClass:"question-main"},[t._v(t._s(t.question.questionContent)+"?")]),t._v(" "),s("div",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"selected",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected=e.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:"",value:""}},[t._v("请选择")]),t._v(" "),s("option",[t._v(t._s(t.question.answers[0].answerContent))]),t._v(" "),s("option",[t._v(t._s(t.question.answers[1].answerContent))]),t._v(" "),s("option",[t._v(t._s(t.question.answers[2].answerContent))])]),t._v(" "),s("el-button",{attrs:{type:"primary",round:"",size:"mini"},on:{click:t.handleClick}},[t._v("确认")]),t._v(" "),s("span",{staticClass:"answer"},[t._v("你的答案是: "+t._s(t.answer))]),t._v(" "),t.myAnswerKey?s("div",{staticClass:"correct"},["false"===t.correctAnswer.isCorrect?s("span",{staticClass:"err"},[t._v("错误！ 正确答案："+t._s(t.correctAnswer.answer))]):s("span",{staticClass:"yes"},[t._v("正确！")])]):t._e()],1)])},staticRenderFns:[]};var o=s("VU/8")(r,i,!1,function(t){s("6rMS")},"data-v-22787d21",null).exports,a={data:function(){return{questionList:[],myAnswerList:[],correctAnswerList:[],marks:"",myAnswerKey:!1}},props:{courseItemId:{type:String,required:!0}},created:function(){this.getData()},components:{foot:n.a,question:o},computed:{submitAbled:function(){return this.myAnswerList.length<10}},methods:{handleQuesAnswer:function(t){if(0===this.myAnswerList.length)this.myAnswerList.push(t);else{for(var e=!1,s=0;s<this.myAnswerList.length;s++)this.myAnswerList[s].questionId===t.questionId&&(this.myAnswerList[s].answer=t.answer,e=!0);e||this.myAnswerList.push(t)}console.log(this.myAnswerList)},getData:function(){var t=this,e={courseItemId:this.courseItemId};this.$http.post("https://www.easy-mock.com/mock/5afa75091483315259546162/login/quxue/doWork.action",e).then(function(e){e.data.data.questions.sort(function(t,e){return t.questionId-e.questionId}),t.questionList=e.data.data.questions,console.log(t.questionList)})},handleAnswerSubmit:function(){var t=this,e=this.myAnswerList;e.sort(function(t,e){return t.questionId-e.questionId});var s={question:e};this.$http.post("https://www.easy-mock.com/mock/5afa75091483315259546162/login/quxue/results.action",s).then(function(e){e.data.data.correct.sort(function(t,e){return t.questionId-e.questionId}),t.correctAnswerList=e.data.data.correct,t.marks=e.data.data.marks,t.myAnswerKey=!0,console.log(t.correctAnswerList),console.log(t.marks)}).catch(function(t){console.log(t)})}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dotest"},[s("div",{staticClass:"dotest-content"},[t._l(t.questionList,function(e,n){return s("div",{key:n,staticClass:"content-item"},[s("span",{staticClass:"item-title"},[t._v("第"+t._s(n+1)+"题:")]),t._v(" "),s("question",{attrs:{question:e,myAnswerKey:t.myAnswerKey,correctAnswer:t.correctAnswerList[n]||{}},on:{handleAnswer:t.handleQuesAnswer}})],1)}),t._v(" "),s("div",{staticClass:"submitBtn"},[s("el-button",{attrs:{type:"primary",round:"",disabled:t.submitAbled},on:{click:t.handleAnswerSubmit}},[t._v("提交答案")])],1)],2),t._v(" "),s("div",{staticClass:"dotest-footer"},[s("foot")],1)])},staticRenderFns:[]};var u=s("VU/8")(a,c,!1,function(t){s("P5ly")},"data-v-8862bbda",null);e.default=u.exports},"6rMS":function(t,e){},P5ly:function(t,e){}});
//# sourceMappingURL=4.0e66dfb34eb9b5a51489.js.map